<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-knowledge/专项测试/safe/introduce/reinforce/ACE加固流程">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">ACE加固流程 | QAQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://qaq-public.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://qaq-public.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://qaq-public.github.io/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固流程"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ACE加固流程 | QAQ"><meta data-rh="true" name="description" content="加固前请确认已申请ACE加固，申请流程见：ACE申请流程 | QAQ (bilibili.co)"><meta data-rh="true" property="og:description" content="加固前请确认已申请ACE加固，申请流程见：ACE申请流程 | QAQ (bilibili.co)"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="https://qaq-public.github.io/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固流程"><link data-rh="true" rel="alternate" href="https://qaq-public.github.io/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固流程" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://qaq-public.github.io/en/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固流程" hreflang="en"><link data-rh="true" rel="alternate" href="https://qaq-public.github.io/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固流程" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="QAQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="QAQ Atom Feed"><link rel="stylesheet" href="/assets/css/styles.75500111.css">
<link rel="preload" href="/assets/js/runtime~main.72381877.js" as="script">
<link rel="preload" href="/assets/js/main.d647554d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_flov" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="QAQ" class="themedImage_wF4d themedImage--light_HHTj"><img src="/img/logo.svg" alt="QAQ" class="themedImage_wF4d themedImage--dark_Wo9Y"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/knowledge">知识库</a><a class="navbar__item navbar__link" href="/docs/help">帮助中心</a></div><div class="navbar__items navbar__items--right"><div class="searchBox_oQJT"><div class="navbar__search searchBarContainer_tHBN"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_ICId searchBarLoadingRing_gIZj"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_Zya_ docsWrapper_WVjR"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_Jqhi" type="button"></button><div class="docPage_U4kp"><aside class="theme-doc-sidebar-container docSidebarContainer_n9oC"><div class="sidebarViewport_kf8b"><div class="sidebar_DRif"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_A4mD"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/knowledge">知识库简介</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/knowledge/常规解决方案/">常规解决方案</a><button aria-label="打开/收起侧边栏菜单「常规解决方案」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/knowledge/客户端安全/">客户端安全</a><button aria-label="打开/收起侧边栏菜单「客户端安全」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/knowledge/流程文档/">流程文档</a><button aria-label="打开/收起侧边栏菜单「流程文档」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/knowledge/专项测试/">专项测试</a><button aria-label="打开/收起侧边栏菜单「专项测试」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/knowledge/专项测试/safe/">安全测试</a><button aria-label="打开/收起侧边栏菜单「安全测试」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/">安全简介</a><button aria-label="打开/收起侧边栏菜单「安全简介」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/安全介绍">安全介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/reinforce/">ACE加固</a><button aria-label="打开/收起侧边栏菜单「ACE加固」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固">ACE加固</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固流程">ACE加固流程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/reinforce/常见问题">常见问题</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/plug/">ACE反外挂</a><button aria-label="打开/收起侧边栏菜单「ACE反外挂」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/knowledge/专项测试/safe/introduce/platform/">安全检测平台</a><button aria-label="打开/收起侧边栏菜单「安全检测平台」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/knowledge/专项测试/safe/safeTest/">安全测试</a><button aria-label="打开/收起侧边栏菜单「安全测试」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/knowledge/专项测试/弱网测试/">弱网测试</a><button aria-label="打开/收起侧边栏菜单「弱网测试」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/knowledge/专项测试/prof/">客户端性能测试</a><button aria-label="打开/收起侧边栏菜单「客户端性能测试」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/knowledge/自研标准/">自研标准</a><button aria-label="打开/收起侧边栏菜单「自研标准」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/knowledge/其他文档/">其他文档</a><button aria-label="打开/收起侧边栏菜单「其他文档」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/knowledge/出包流程/">出包流程</a><button aria-label="打开/收起侧边栏菜单「出包流程」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_CzFA"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_U3_H"><div class="docItemContainer_fzlF"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_fdkK" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_Ed_0"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/knowledge/专项测试/"><span itemprop="name">专项测试</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/knowledge/专项测试/safe/"><span itemprop="name">安全测试</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/knowledge/专项测试/safe/introduce/"><span itemprop="name">安全简介</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/knowledge/专项测试/safe/introduce/reinforce/"><span itemprop="name">ACE加固</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">ACE加固流程</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_Ws5u theme-doc-toc-mobile tocMobile_L9GA"><button type="button" class="clean-btn tocCollapsibleButton_It_M">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>ACE加固流程</h1></header><p>加固前请确认已申请ACE加固，申请流程见：<a href="https://qaq.com/docs/services/solution/flow/ACE%E6%8E%A5%E5%85%A5%E6%B5%81%E7%A8%8B" target="_blank" rel="noopener noreferrer">ACE申请流程 | QAQ (bilibili.co)</a></p><h2 class="anchor anchorWithStickyNavbar_t7vb" id="ace加固官方文档">ACE加固官方文档<a href="#ace加固官方文档" class="hash-link" aria-label="ACE加固官方文档的直接链接" title="ACE加固官方文档的直接链接">​</a></h2><p><a href="https://www.anticheatexpert.com/#/doc-center/0dfeaa7fe86a5a80953c1228dcb7cc5545ca4004" target="_blank" rel="noopener noreferrer">ACE官方加固指引（国内）</a></p><p><a href="https://intl.anticheatexpert.com/#/doc-center/0dfeaa7fe86a5a80953c1228dcb7cc5545ca4004" target="_blank" rel="noopener noreferrer">ACE官方加固指引（海外）</a></p><h2 class="anchor anchorWithStickyNavbar_t7vb" id="ace加固工具下载">ACE加固工具下载<a href="#ace加固工具下载" class="hash-link" aria-label="ACE加固工具下载的直接链接" title="ACE加固工具下载的直接链接">​</a></h2><p><a href="https://www.anticheatexpert.com/#/tool-center" target="_blank" rel="noopener noreferrer">ACE官方加固工具中心（国内）</a></p><p><a href="https://intl.anticheatexpert.com/#/tool-center" target="_blank" rel="noopener noreferrer">ACE官方加固工具中心（海外）</a></p><ol><li>下载对应系统的加固工具</li></ol><ul><li>选择对应开发环境</li><li>选择关联项目</li><li>选择发行地区</li><li>勾选《服务条款》和《隐私条款》后点击确认即可下载</li></ul><div class="ant-image"><img class="ant-image-img" src="/assets/images/image-20220826184015477-68db3cf3f87d45e7ea3ce71d1864b25c.png"><div class="ant-image-mask"><div class="ant-image-mask-info"><span role="img" aria-label="eye" class="anticon anticon-eye"><svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg></span>Preview</div></div></div><ol start="2"><li>注意事项</li></ol><ul><li>下载加固工具前请确认已申请加固服务，否则加固会失败</li><li>具体申请流程请参考<a href="https://qaq.com/docs/services/solution/flow/ACE%E6%8E%A5%E5%85%A5%E6%B5%81%E7%A8%8B" target="_blank" rel="noopener noreferrer">ACE申请流程</a></li></ul><h2 class="anchor anchorWithStickyNavbar_t7vb" id="ace命令行加固步骤">ACE命令行加固步骤<a href="#ace命令行加固步骤" class="hash-link" aria-label="ACE命令行加固步骤的直接链接" title="ACE命令行加固步骤的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_t7vb" id="前期准备">前期准备<a href="#前期准备" class="hash-link" aria-label="前期准备的直接链接" title="前期准备的直接链接">​</a></h3><ol><li>解压工具包，解压路径确保不含中文</li></ol><ul><li>查看当前系统处理器类型，选择对应类型解压（mac无需选择）</li></ul><div class="ant-image"><img class="ant-image-img" src="/assets/images/image-20220826185609581-a6d9164804cb905395fb57137043d0dd.png"><div class="ant-image-mask"><div class="ant-image-mask-info"><span role="img" aria-label="eye" class="anticon anticon-eye"><svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg></span>Preview</div></div></div><ol start="2"><li>赋权（MAC系统）</li></ol><ul><li>在MAC系统和Linux系统上调用工具前，请首先为工具赋权，进入MTPClientConsole.exe所在目录，执行：</li></ul><div class="codeBlockContainer_vP4A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_N70h"><pre tabindex="0" class="prism-code language-text codeBlock_lQS1 thin-scrollbar"><code class="codeBlockLines_hIEg"><span class="token-line" style="color:#393A34"><span class="token plain">chmod -R 777 ./*</span><br></span></code></pre><div class="buttonGroup_pe2f"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_WZ6N" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_JvjO"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wj28"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>tpshell-config.xml配置文件的写法<a id="config"></a></li></ol><ul><li>配置详情请参考：<a href="https://www.anticheatexpert.com/#/doc-center/0dfeaa7fe86a5a80953c1228dcb7cc5545ca4004" target="_blank" rel="noopener noreferrer">官方tpshell-config配置文件说明</a></li></ul><ol start="4"><li>常见返回结果</li></ol><table><thead><tr><th align="left">参数</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">The shelling task was finished</td><td align="left">加固任务完成</td></tr><tr><td align="left">Shell failed for time out</td><td align="left">加固超时失败</td></tr><tr><td align="left">Configuration error</td><td align="left">配置解析错误</td></tr><tr><td align="left">Command line parameter error</td><td align="left">命令行参数错误</td></tr><tr><td align="left">Shelling error</td><td align="left">加壳错误</td></tr><tr><td align="left">Local client error</td><td align="left">本地客户端错误</td></tr><tr><td align="left">erver error</td><td align="left">服务器错误</td></tr></tbody></table><ol start="5"><li><strong>注意事项</strong></li></ol><ul><li>配置tpshell-config.xml文件时，需对assets/distributor.txt添加白名单；</li><li>使用签名平台对包体进行签名时，会更改assets文件下的distributor.txt文件；</li><li>若未对该文件设立白名单，会导致在签名后，因修改包内资源文件，触发ACE加固中的文件校验策略，导致无法正常进入游戏；</li><li>添加白名单后，对于白名单内的文件，当做出修改或删除操作时，将不再触发ACE资源文件校验。</li></ul><div class="ant-image"><img class="ant-image-img" src="/assets/images/image-20220927155419977-56da2d3f58a5644f547233cf2417b099.png"><div class="ant-image-mask"><div class="ant-image-mask-info"><span role="img" aria-label="eye" class="anticon anticon-eye"><svg viewBox="64 64 896 896" focusable="false" data-icon="eye" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"></path></svg></span>Preview</div></div></div><h3 class="anchor anchorWithStickyNavbar_t7vb" id="加固命令行">加固命令行<a href="#加固命令行" class="hash-link" aria-label="加固命令行的直接链接" title="加固命令行的直接链接">​</a></h3><p><a href="https://www.anticheatexpert.com/#/doc-center/0dfeaa7fe86a5a80953c1228dcb7cc5545ca4004" target="_blank" rel="noopener noreferrer">最新版加固操作指引(国内)</a></p><p><a href="https://intl.anticheatexpert.com/#/doc-center/0dfeaa7fe86a5a80953c1228dcb7cc5545ca4004" target="_blank" rel="noopener noreferrer">最新版加固操作指引(海外)</a></p><ol><li>APK加固</li></ol><ul><li><p>APK加固会生成.apk为后缀的文件</p></li><li><p>执行以下命令行 ：</p></li></ul><div class="codeBlockContainer_vP4A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_N70h"><pre tabindex="0" class="prism-code language-text codeBlock_lQS1 thin-scrollbar"><code class="codeBlockLines_hIEg"><span class="token-line" style="color:#393A34"><span class="token plain">cd MTPClientConsole.exe所在目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MTPClientConsole.exe -d &lt;gameId&gt; &lt;apkpath&gt; &lt;outDir&gt; &lt;certPath&gt; -c </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;configPath&gt; [-s &lt;symbolpath&gt;]</span><br></span></code></pre><div class="buttonGroup_pe2f"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_WZ6N" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_JvjO"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wj28"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>参数说明</li></ul><table><thead><tr><th align="left">参数</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">-d</td><td align="left">标准版（默认选项，不可变更）</td></tr><tr><td align="left">gameId</td><td align="left">游戏ID（控制台注册，可前往控制台查看）</td></tr><tr><td align="left">apkPath</td><td align="left">待加固的apk文件完整路径（不要包含中文字符）</td></tr><tr><td align="left">outDir</td><td align="left">输出加固后apk文件完整目录（不要包含中文字符）</td></tr><tr><td align="left">certPath</td><td align="left">与游戏ID对应的证书路径（证书名为Game_ID.cert且不要包含中文字符）</td></tr><tr><td align="left">-c</td><td align="left">调用配置文件（默认选项，不可变更）</td></tr><tr><td align="left">configPath</td><td align="left">tpshell-config.xml配置文件的路径（不要包含中文字符），配置文件中成对的标签需放在同一行且文件名称以.xml结尾，具体配置详情请参考<a href="#config">配置文件的写法</a></td></tr><tr><td align="left">-s</td><td align="left">调用配置文件（选填），支持global-metadata.dat运行时解密和Unity资源文件加密功能</td></tr><tr><td align="left">symbolpath</td><td align="left">可参考<a href="https://www.anticheatexpert.com/#/doc-center/d144163534f6e0231c4a44ec36f465d59d061a52" target="_blank" rel="noopener noreferrer">global-metadata.dat文档</a>或<a href="https://www.anticheatexpert.com/#/doc-center/ef679ed41c183d469d8eef6f910fb3e8a77991c1" target="_blank" rel="noopener noreferrer">unity AB资源加密文档</a>（不要包含中文字符）</td></tr></tbody></table><ol start="2"><li>加固（APP Bundle加固）</li></ol><ul><li>APP Bundle加固会生成以.aab为后缀的文件</li><li>执行下列命令行：</li></ul><div class="codeBlockContainer_vP4A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_N70h"><pre tabindex="0" class="prism-code language-text codeBlock_lQS1 thin-scrollbar"><code class="codeBlockLines_hIEg"><span class="token-line" style="color:#393A34"><span class="token plain">cd MTPClientConsole.exe所在目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MTPClientConsole.exe -a &lt;gameId&gt; &lt;aabPath&gt; &lt;outDir&gt; &lt;certPath&gt; -c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;configPath&gt; [-s &lt;symbolpath&gt;]</span><br></span></code></pre><div class="buttonGroup_pe2f"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_WZ6N" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_JvjO"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wj28"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>参数说明</li></ul><table><thead><tr><th align="left">参数</th><th align="left">含义</th></tr></thead><tbody><tr><td align="left">-a</td><td align="left">AppBundle版（默认选项，不可变更）</td></tr><tr><td align="left">gameId</td><td align="left">游戏ID（控制台注册，可前往控制台查看）</td></tr><tr><td align="left">aabPath</td><td align="left">待加固的aab文件完整路径（不要包含中文字符）</td></tr><tr><td align="left">outDir</td><td align="left">输出加固后aab文件完整目录（不要包含中文字符）</td></tr><tr><td align="left">certPath</td><td align="left">与游戏ID对应的证书路径（证书名为Game_ID.cert且不要包含中文字符）</td></tr><tr><td align="left">-c</td><td align="left">调用配置文件（默认选项，不可变更）</td></tr><tr><td align="left">configPath</td><td align="left">tpshell-config.xml配置文件的路径（不要包含中文字符），配置文件中成对的标签需放在同一行且文件名称以.xml结尾</td></tr><tr><td align="left">-s</td><td align="left">调用配置文件（选填），支持global-metadata.dat运行时解密和Unity资源文件加密功能</td></tr><tr><td align="left">symbolpath</td><td align="left">可参考<a href="https://www.anticheatexpert.com/#/doc-center/d144163534f6e0231c4a44ec36f465d59d061a52" target="_blank" rel="noopener noreferrer">global-metadata.dat文档</a>或<a href="https://www.anticheatexpert.com/#/doc-center/ef679ed41c183d469d8eef6f910fb3e8a77991c1" target="_blank" rel="noopener noreferrer">unity AB资源加密文档</a>（不要包含中文字符）</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_t7vb" id="加固效果">加固效果<a href="#加固效果" class="hash-link" aria-label="加固效果的直接链接" title="加固效果的直接链接">​</a></h3><ol><li>判断包体是否加固</li></ol><ul><li>查看安装包内lib目录对应架构目录下是否存在libtprt.so文件（海外版为libanort.so）；若存在说明安装包已加固；</li></ul><ol start="2"><li>加固闪退验证步骤（未添加配置文件白名单）</li></ol><div class="codeBlockContainer_vP4A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_N70h"><pre tabindex="0" class="prism-code language-text codeBlock_lQS1 thin-scrollbar"><code class="codeBlockLines_hIEg"><span class="token-line" style="color:#393A34"><span class="token plain">apktool d apkPath; # 使用apktool解压apk文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apktool b apkPath; # 使用apktool重打包apk文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">apk重签名后安装运行游戏，加固都会立即退出游戏</span><br></span></code></pre><div class="buttonGroup_pe2f"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_WZ6N" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_JvjO"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wj28"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="3"><li>判断加固包闪退</li></ol><ul><li>查看logcat信息中存在cleanly(1-30)的信息，例如：Process 15407 exited cleanly (30)</li></ul><div class="codeBlockContainer_vP4A theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_N70h"><pre tabindex="0" class="prism-code language-text codeBlock_lQS1 thin-scrollbar"><code class="codeBlockLines_hIEg"><span class="token-line" style="color:#393A34"><span class="token plain">adb shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">su</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logcat d|grep &quot;cleanly&quot;</span><br></span></code></pre><div class="buttonGroup_pe2f"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_WZ6N" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_JvjO"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wj28"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/knowledge/专项测试/safe/introduce/reinforce/ACE加固"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">ACE加固</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/knowledge/专项测试/safe/introduce/reinforce/常见问题"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">常见问题</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_sUVX thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ace加固官方文档" class="table-of-contents__link toc-highlight">ACE加固官方文档</a></li><li><a href="#ace加固工具下载" class="table-of-contents__link toc-highlight">ACE加固工具下载</a></li><li><a href="#ace命令行加固步骤" class="table-of-contents__link toc-highlight">ACE命令行加固步骤</a><ul><li><a href="#前期准备" class="table-of-contents__link toc-highlight">前期准备</a></li><li><a href="#加固命令行" class="table-of-contents__link toc-highlight">加固命令行</a></li><li><a href="#加固效果" class="table-of-contents__link toc-highlight">加固效果</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.72381877.js"></script>
<script src="/assets/js/main.d647554d.js"></script>
</body>
</html>