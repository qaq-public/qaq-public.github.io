---
sidebar_position: 3
---
import { DocImage} from "/src/components/index.js"

<DocImage src='authapprove/008.png'></DocImage>

1. 共有八项服务配置：
   * ①提交检验于TAPD同步 
   * ②提交校验发布版本 
   * ③Git关键字发起cherry pick 
   * ④Git阻塞式检验提交  
   * ⑤检查是否提交.*meta文件  
   * ⑥提交权限审批校验  
   * ⑦提交即流转  
   * ⑧Git合并消息推送

   其中②”提交校验发布版本“只在tapd配置下存在，而ones没有。只有在“④Git阻塞式检验提交”被勾选的情况下分支配置中配置的锁定才能生效

2. 提交检验于TAPD同步

<DocImage src='authapprove/009.png'></DocImage>

* ①工作单完成状态
  在提交时，在备注的工作单后方添加关键字【完成】。成功提交后，工作单将会跳转到该字段配置的工作单完成状态。 注意，要紧跟在工作单链接后方，不可以有空格符号等隔开。        如下：
  <DocImage src='authapprove/010.png'></DocImage>

* ②禁止提交工作单状态
  在此字段中配置的若干工作单状态，当工作单处于这些状态时，即使通过权限审批，也无法通过提交判定。

3. 提交校验发布版本

<DocImage src='authapprove/011.png'></DocImage>

* 工作单只有在“tapd发布版本”中所配置的版本发布时，才能提交至对应分支
* 注：此条服务配置只存在于tapd配置，注2：请不要对一个相同分支配置两条数据

4. Git关键字发起cherry pick

<DocImage src='authapprove/012.png'></DocImage>

* 该服务配置默认分支

    ①提交时，在备注任意位置添加关键字【合并】，本次commit会自动提交至服务中设置的分支。

    ②提交时，在备注任意位置添加关键字【合并-分支名】，本次commit会自动提交至指定分支。 注：‘-’前后不能有空格
5. Git阻塞式检验提交

* 只有勾选了此条服务，第二步分支配置中的锁定才能生效。
* 阻塞配置过程：

    ①仓库配置完成后，下载脚本到本地
    <DocImage src='authapprove/013.png'></DocImage>

    git版本脚本为commit-msg.txt，svn版本脚本为pre-commit.txt

    ②去掉脚本的后缀  ".txt"

    ③放入指定地址 git版本为：git项目中隐藏文件夹  .git -- hooks中 svn版本为：svn服务器的 hooks文件中

    其中git仓库若存在子仓库，则也要放入子仓库的.git  -- hooks中
6. 检查是否提交.*meta文件

<DocImage src='authapprove/014.png'></DocImage>

* 勾选此项服务后，会检查配置路径下所有文件，除了修改过的文件，以及重命名过的文件，其他文件都要有.*meta文件，若无，则不通过检查
* 提交权限审批校验
<DocImage src='authapprove/015.png'></DocImage>

* 在仓库被锁定情况下，若要进行提交，则要通过权限审批流程，获取提交权限。

     单号是指，使用某个单子通过审批后，可以使用该工作单链接进行提交，提交时会对备注进行校验，是否检查单号是否通过权限审批。

    提交人是指，提交时会对提交人进行校验，是否为权限申请订单中所配置的提交人

    注：配置提交人模式时，流程也会对单号进行检查，因此提交人模式下，也要填写单号

7. 提交即流转

<DocImage src='authapprove/016.png'></DocImage>

* 勾选该项服务，完成提交时，会对提交单状态进行检查，若为该服务中所配置的新建状态，则会自动流转至服务中所配置的制作中状态。

   注：当前若状态流转需要填写一些必填字段，则该服务会失败。如ones中，缺陷单流转时存在必填字段
   <DocImage src='authapprove/017.png'></DocImage>

8. Git合并消息推送

<DocImage src='authapprove/018.png'></DocImage>

* 勾选该服务时，对配置分支进行合并操作时，会向所配置机器人推送消息，并@ 配置的成员