---
sidebar_position: 2
---


# 环境配置
import { DocImage, WeChatLink } from "/src/components/index.js"

## Python环境安装

    安装python3.7 以上版本

## 开通对应的git权限

联系<WeChatLink name='莫得'>莫得</WeChatLink>开通对应工具[git仓库](https://git.bilibili.co/qa-public/gameconfigerchecker)的权限。

注：开通后请登录git.bilibili.co添加对应的sshkey至git仓库中


## 部署环境
1. 下载 [requirements.txt](https://git.bilibili.co/qa-public/gameconfigerchecker/-/raw/master/requirements.txt?inline=false)

2. 下载 [setup.py](https://git.bilibili.co/qa-public/gameconfigerchecker/-/raw/master/setup.py?inline=false)

3. 在requirements.txt所在目录下执行pip install -r requirements.txt（安装对应依赖）

4. 复制setup.py至根目录中，注意事项如下

    * 路径中不可包含中文目录，会导致git子模块创建失败

    * 如果选择目录已是git仓库，直接使用即可，但是只可以使用git仓库的根目录，不可使用二级目录，会导致无法创建对应的子模块

5. 执行setup.py文件，填写对应的文件夹名后输出查看结果是否成功。

    * 打开对应文件夹查看是否存在gameconfigerchecker文件夹,如下图

<DocImage src='configcheck/check2.png'></DocImage>

## 配置Config.ini文件
1. 返回填写的文件夹中，打开config.ini文件（注：非gameconfigerchecker文件夹中的config.ini，是该文件的父目录中的config.ini）

2. 配置如下字段参数(必改项)：
    * exten:	配置表类型，暂时支持csv、xlsx配置表

    * config_path:	配置表路径，建议使用相对路径

    * config_check_path:	检查表生成后路径，建议修改为QA自身git目录下，方便后期维护检查表

    * project_path:	项目Client路径，如不需要进行资源检查，可以不进行配置
    
    * head_count:	配置表表头行数

    * head_type_row:	配置表字段名在第几行

    * head_type:	配置表字段参数类型在第几行

    * project_id：  项目代号

    * jwt_token：   上传结果使用的token,如无需上传结果可以不进行配置

    完成后保存   注：head参数的请勿填错，会导致导出的检查表与实际配置表结构不一致	

3. 获取个人token获取方式

    * 登录QAQ平台，点击右上角个人信息

    * 点击如图按钮，复制个人token

<DocImage src='configcheck/check10.png'></DocImage>


## 导出检查表

    在与config.ini同一目录下选择CsvToCheck.py 或者 XlsxToCheck.py

* 如原配置表为Csv则选择前者，如原配置表为Xlsx选择后者

导出图如下

<DocImage src='configcheck/check3.png'></DocImage>

## 查看检查表

     cd到配置的config_check_path路径下，确定生成了对应的check表


## 配置检查表

     完善检查表检查：具体规则详见检查规则页签

示例图如下

<DocImage src='configcheck/check4.png'></DocImage>

## 开始运行

     返回自定义文件夹中，CheckAll.py 选择该脚本运行（脚本中存在自动还原git功能，如无需使用请自行注释）

## 输出结果&结果文件

    输出结果示例图如下

<DocImage src='configcheck/check5.png'></DocImage>

    结果文件保存地址./CheckResult文件夹下为json文件保存

## 自动上传平台展示


[QAQ平台链接]https://qaq.com/checker

<DocImage src='configcheck/check8.png'></DocImage>

    平台也可自行上传结果json文件 如下图

<DocImage src='configcheck/check9.png'></DocImage>
